<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Offline Survey Tool</title>
    <link rel="stylesheet" href="./styles/main.css">
    <link rel="manifest" href="./manifest.json">
    <meta name="theme-color" content="#3b82f6">
    <meta name="description" content="Offline survey tool for creating and conducting surveys">
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Navigation -->
    <nav class="bg-blue-600 text-white shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <h1 class="text-xl font-bold">Offline Survey Tool</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="nav-surveys" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors">
                        All Surveys
                    </button>
                    <button id="nav-create" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors">
                        Create Survey
                    </button>
                    <button id="nav-load" class="px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors">
                        Load Survey
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
        <!-- Survey List Page -->
        <div id="surveys-page" class="page">
            <div class="px-4 py-6 sm:px-0">
                <div class="border-4 border-dashed border-gray-200 rounded-lg p-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6">All Surveys</h2>
                    <div id="surveys-list" class="space-y-4">
                        <!-- Surveys will be dynamically loaded here -->
                    </div>
                    <div id="no-surveys" class="text-center text-gray-500 py-8 hidden">
                        <p>No surveys found. Create a new survey to get started.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Survey Creation Page -->
        <div id="create-page" class="page hidden">
            <div class="px-4 py-6 sm:px-0">
                <div class="border-4 border-dashed border-gray-200 rounded-lg p-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6">Create New Survey</h2>
                    
                    <!-- Survey Name Input -->
                    <div class="mb-6">
                        <label for="survey-name" class="block text-sm font-medium text-gray-700 mb-2">
                            Survey Name
                        </label>
                        <input type="text" id="survey-name" 
                               class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"
                               placeholder="Enter survey name">
                    </div>

                    <!-- Questions Container -->
                    <div id="questions-container" class="space-y-6">
                        <!-- Questions will be dynamically added here -->
                    </div>

                    <!-- Add Question Button -->
                    <button id="add-question" 
                            class="mt-6 bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors">
                        Add Question
                    </button>

                    <!-- Save Survey Button -->
                    <div class="mt-8 flex space-x-4">
                        <button id="save-survey" 
                                class="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors">
                            Save Survey
                        </button>
                        <button id="cancel-create" 
                                class="bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700 transition-colors">
                            Cancel
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Survey Loading Page -->
        <div id="load-page" class="page hidden">
            <div class="px-4 py-6 sm:px-0">
                <div class="border-4 border-dashed border-gray-200 rounded-lg p-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-6">Load Survey</h2>
                    
                    <div class="mb-6">
                        <label for="survey-file" class="block text-sm font-medium text-gray-700 mb-2">
                            Select Survey File
                        </label>
                        <input type="file" id="survey-file" accept=".json" 
                               class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    </div>

                    <div class="flex space-x-4">
                        <button id="load-survey" 
                                class="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition-colors">
                            Load Survey
                        </button>
                        <button id="cancel-load" 
                                class="bg-gray-600 text-white px-6 py-2 rounded-md hover:bg-gray-700 transition-colors">
                            Cancel
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Survey Conduction Page -->
        <div id="conduct-page" class="page hidden">
            <div class="px-4 py-6 sm:px-0">
                <div class="border-4 border-dashed border-gray-200 rounded-lg p-8">
                    <div class="flex justify-between items-center mb-6">
                        <div>
                            <h2 id="conduct-survey-title" class="text-2xl font-bold text-gray-900">Conduct Survey</h2>
                            <p id="session-response-counter" class="text-sm text-gray-600 mt-1">Responses recorded this session: 0</p>
                        </div>
                        <div class="flex space-x-4">
                            <button id="add-response-card" 
                                    class="bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors">
                                Add Response Card
                            </button>
                            <button id="finish-conducting" 
                                    class="bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors">
                                Finish Conducting
                            </button>
                        </div>
                    </div>

                    <div id="response-cards-container" class="space-y-6">
                        <!-- Response cards will be dynamically added here -->
                    </div>

                    <div id="no-cards" class="text-center text-gray-500 py-8 hidden">
                        <p>No response cards. Click "Add Response Card" to start collecting responses.</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Question Template (Hidden) -->
    <template id="question-template">
        <div class="question-item border border-gray-300 rounded-lg p-6 bg-white">
            <div class="flex justify-between items-start mb-4">
                <h3 class="text-lg font-medium text-gray-900">Question</h3>
                <button class="remove-question text-red-600 hover:text-red-800">
                    Remove
                </button>
            </div>
            
            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Question Type</label>
                <select class="question-type w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    <option value="freeform">Free Form</option>
                    <option value="multiple">Multiple Choice</option>
                </select>
            </div>

            <div class="mb-4">
                <label class="block text-sm font-medium text-gray-700 mb-2">Question Text</label>
                <input type="text" class="question-text w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500" 
                       placeholder="Enter your question">
            </div>

            <div class="mb-4">
                <label class="flex items-center">
                    <input type="checkbox" class="question-required mr-2">
                    <span class="text-sm font-medium text-gray-700">Required question</span>
                </label>
            </div>

            <!-- Multiple Choice Options -->
            <div id="multiple-choice-options" class="hidden">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Number of Choices</label>
                    <input type="number" min="2" max="10" value="2" 
                           class="num-choices w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                </div>
                
                <div class="mb-4">
                    <label class="flex items-center">
                        <input type="checkbox" class="allow-multiple mr-2">
                        <span class="text-sm font-medium text-gray-700">Allow multiple selections (checkboxes)</span>
                    </label>
                </div>

                <div class="choices-container space-y-2">
                    <!-- Choice inputs will be dynamically added here -->
                </div>
            </div>
        </div>
    </template>

    <!-- Response Card Template (Hidden) -->
    <template id="response-card-template">
        <div class="response-card border border-gray-300 rounded-lg p-6 bg-white">
            <div class="flex justify-between items-start mb-4">
                <h3 class="text-lg font-medium text-gray-900">Response Card</h3>
                <div class="flex space-x-2">
                    <button class="mark-complete bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 transition-colors">
                        Mark Complete
                    </button>
                    <button class="remove-card text-red-600 hover:text-red-800">
                        Remove
                    </button>
                </div>
            </div>
            
            <div class="responses-container space-y-4">
                <!-- Survey questions and response inputs will be dynamically added here -->
            </div>
        </div>
    </template>

    <script src="./scripts/app.js"></script>
</body>
</html>
